<div class="row page-header">
	<h1>Direct Links</h1>
	<div class="page-help">
		<a href="#" data-toggle="popover" data-placement="left"
			data-content="
			All Direct Link configurations are shown here.
			You can order new link, manage existing orders and view the links.
			" data-trigger="hover" title=""><i class="fa fa-question-circle"></i></a>
		<i class="fa fa-exclamation-circle text-danger"
			data-toggle="tooltip" data-placement="left"
			title="This page supports 'Actor mode'.
			Please check your current actor."></i>
	</div>
	<div>
		Direct Links
	</div>
</div>

<div class="row">

<p>
	<a href="<%= newDirectlinkPath() %>" class="btn btn-primary">Create New Direct Link</a>
</p>

<table class="table table-striped table-condensed table-hover">
	<thead>
		<tr>
			<th>Direct Link</th>
			<th>Router</th>
			<th>IP Addr</th>
			<th>Status</th>
			<th>&nbsp;</th>
		</tr>
	</thead>
	<tbody>
		<%= for (dlink) in dlinks { %>
		<tr class="clickable">
			<td><a id="link" href="<%=
					directlinkPath({ directlink_id: dlink.ID }) %>"><%=
					dlink %></a></td>
			<td>XCR<%=
					dlink.Router %>.v<%=
					dlink.VlanId %></td>
			<td><%= dlink.CERIP %></td>
			<td><%= capitalize(dlink.Status) %></td>
			<td class="unclickable">
				<div class="pull-right">
					<%= if (dlink.Status != "draft") { %>
					<%= if (dlink.MultiPath) {
						%><a class="btn btn-xs btn-success" href="<%=
						directlinkPath({ directlink_id: dlink.SiblingID })
						%>">View Sibling</a><%
					} else {
						%><a class="btn btn-xs btn-success" href="<%=
						directlinkAddPath({ directlink_id: dlink.ID })
						%>">Add Redundancy</a><%
					} %>
					<% } %>
					<%= if ((dlink.Status == "draft") && (user_is_admin)) {
						%><a class="btn btn-xs btn-primary" href="<%=
							directlinkOrderPath({ directlink_id: dlink.ID })
							%>" data-method="PUT" data-confirm="Are you sure?">Order</a><%
					} %>
					<%= if (dlink.TicketId > 0) {
						%><a class="btn btn-xs btn-primary" href="<%=
							ticketPath({ ticket_id: dlink.TicketId }) %>">Ticket</a><%
					} %>
					<div class="btn-group">
						<a class="btn btn-xs btn-warning" href="<%=
							editDirectlinkPath({ directlink_id: dlink.ID }) %>">Edit</a>
						<%= if (user_is_admin) {
							%><a class="btn btn-xs btn-danger" href="<%=
							directlinkPath({ directlink_id: dlink.ID })
							%>" data-method="DELETE" data-confirm="Are you sure?">De</a><%
						} %>
					</div>
				</div>
			</td>
		</tr>
		<% } %>
	</tbody>
</table>

</div>

<div class="page-tips">
<%= if (user_is_admin) { %>
<div class="col-md-8 col-md-offset-2"><div class="panel panel-danger">
	<div class="panel-heading"><h3 class="panel-title">Admin Notes</h3></div>
	<div class="panel-body">
		<p><span class="label label-warning">TODO</span>
		NSP Support......</p>
		<p><span class="label label-warning">TODO</span>
		Draft auto deletion after two weeks......</p>
	</div>
</div></div>
<% } %>
<div class="col-md-8 col-md-offset-2"><div class="panel panel-info">
	<div class="panel-body">
		<p><span class="label label-info">Tips</span>
		You can build your own Hybrid Cloud with Direct Link!</p>
		<p><span class="label label-info">Tips</span>
		Administrative confirmation required after creating a order draft.</p>
	</div>
</div></div>
</div>

</div>
